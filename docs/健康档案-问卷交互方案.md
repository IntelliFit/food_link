# 健康档案问卷 · 切换方式头脑风暴与方案

> 目标：在保持「分步填写、进度清晰」的前提下，让「下一题 / 上一题」的切换更符合用户直觉、更人性化。

---

## 一、当前方式的痛点

- **左右滑动卡片**：用户更习惯「上下滚动」阅读，横向滑动在表单场景里认知成本较高，且小程序内滑动手势不一定被理解为「换题」。
- **每步都要点「确认」**：选择后还要再点一次才能下一题，步骤多时略显重复。
- **「上一题」与内容分离**：上一题在页面最底部固定，和当前卡片视觉割裂，容易忽略。
- **无法快速回看/跳转**：想改前面某题的答案必须连续点多次「上一题」。

---

## 二、大厂常见设计参考

| 产品类型 | 典型交互 | 特点 |
|---------|----------|------|
| **Typeform** | 一题一屏，大字号，选完可自动/点击进入下一题 | 专注、沉浸，进度条在顶，动效柔和 |
| **Ant Design / 蚂蚁** | 步骤条 + 单块内容区，底部「上一步」「下一步」 | 结构清晰，可点步骤条回跳（已完成的步骤） |
| **Duolingo / Keep** | 多步引导，大按钮 + 底部圆点进度，选完突出「继续」 | 游戏化、引导明确，减少犹豫 |
| **微信/支付宝 业务表单** | 竖屏单页滚动 或 顶部步骤 + 内容区切换 | 符合「从上往下」阅读习惯，底部固定主按钮 |
| **Apple 健康 / 系统设置** | 列表式分块，或单屏一主题 + 右上角「下一步」 | 简洁、可预期 |

共性：**进度可见、可返回、主操作明确（下一步/继续）、尽量少「额外点击」**。

---

## 三、可选方案（从保守到激进）

### 方案 A：步骤条 + 单块内容区（推荐 · 稳妥）

**交互：**

- **顶部**：横向步骤条，显示 1–10，已完成可点击跳回修改，当前步高亮。
- **中间**：一块内容区，只渲染当前步骤的题目（不左右滑动整张卡），切换时用 **淡入淡出** 或 **短距离上下滑动** 过渡。
- **底部**：固定操作栏  
  - 非第一步：左侧「上一题」、右侧「下一步」  
  - 最后一步：仅「保存健康信息」  
  - 可选：选完必选项后「下一步」自动高亮或带轻微动效。

**参考**：银行/政务 App 的「向导式」填写、Ant Design Steps。

**优点**：符合「上一步/下一步」心智；可回跳；无需学习横向滑动；实现成本可控。  
**缺点**：仍是多步点击，但步骤感更清晰。

---

### 方案 B：单题全屏 + 竖向过渡（Typeform 风格）

**交互：**

- **一题一屏**，题目与选项居中偏上，留白充足。
- **顶部**：细进度条 + 文案「第 2 题 / 共 10 题」。
- **切换方式**：  
  - 点击「下一步」后，当前内容**向上滑出**或**淡出**，下一题**自下淡入/滑入**（竖向，符合阅读方向）。  
  - 可选：支持**上滑手势**进入下一题，**下滑**回到上一题，与动效一致。
- **底部**：固定大按钮「下一步」或「保存健康信息」；底部小字「上一题」链接。

**参考**：Typeform、部分问卷/引导页。

**优点**：沉浸感强、动效自然、主操作唯一。  
**缺点**：需要做动效与手势，实现量略大。

---

### 方案 C：单页竖向滚动（传统长表单）

**交互：**

- **一个长页面**，10 道题自上而下排列，每道题一块区域（标题 + 选项/输入）。
- **顶部**：固定进度条或步骤条（可显示当前滚动到第几题）。
- **底部**：固定「保存健康信息」；滚动到底或某位置时更明显。
- 用户通过**自然滚动**完成填写，可随时回看、修改。

**参考**：很多注册/设置页、调研问卷。

**优点**：零学习成本、可随时修改、适合「想一次看完」的用户。  
**缺点**：题多时页面较长；「分步感」弱，需要靠进度条和区块样式强化。

---

### 方案 D：在现有卡片基础上做「轻优化」（最小改动）

**交互：**

- 保留当前**横向卡片滑动**。
- **增强引导**：首题或空状态时，卡片右侧露出一点下一张卡的边缘 + 箭头或「左滑下一题」提示。
- **统一底部**：把「上一题」收进当前卡片底部（卡片内左下角文字链接），与「确认」同属一块视觉区域。
- **可选**：选择/填写完成后，「确认」按钮轻微高亮或动效，或支持**左滑手势**等价于点击「确认」进入下一题。

**优点**：改动小、保留现有结构。  
**缺点**：横向滑动的心智仍需用户适应，回跳仍需多次点击。

---

## 四、推荐结论与落地建议

- **首选**：**方案 A（步骤条 + 单块内容区）**  
  - 兼顾「分步清晰」「可回跳」「符合下一步/上一步习惯」，且与常见大厂表单一致，实现和测试成本都可控。
- **若希望更强「问卷感」与动效**：在 A 的基础上，为内容区切换增加**淡入淡出或短竖向滑动**（接近方案 B 的过渡），仍保持步骤条 + 底部双按钮。
- **若用户更偏向「一次填完、自由滚动」**：再考虑方案 C 作为备选（例如设置里提供「分步填写 / 一页填写」切换，或仅对步骤少的版本使用 C）。

**建议**：先按 **方案 A** 实现一版（步骤条可点 + 内容区切换 + 底部「上一题」「下一步」），上线后根据反馈再决定是否加手势或改为单页滚动。

---

## 五、方案 A 的简要实现要点（供开发参考）

1. **步骤条**：`currentStep` 驱动高亮；`step <= currentStep` 的步骤可点击，`onClick` 设置 `setCurrentStep(step)`（可选：仅允许跳回已填写步骤）。
2. **内容区**：不再用 `translateX` 的卡片轨道，改为根据 `currentStep` 只渲染**当前一道题**的 View；切换时用 CSS `animation` 或 Taro 的动画 API 做 200–300ms 的淡入淡出或 slide。
3. **底部栏**：固定 `position: fixed`，左侧「上一题」、右侧「下一步」/「保存健康信息」；最后一步只显示保存按钮。
4. **校验**：与现有一致，未填必填项时「下一步」disabled 或点击时 Toast 提示。

如需我按**方案 A**（或 B/C/D）直接改 `health-profile` 页面代码，可以指定方案编号即可。
